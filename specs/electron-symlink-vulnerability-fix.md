# Spec: Fix Symlink Vulnerability in Electron File Protocol Handler

## Problem

The Electron app's custom file:// protocol handler uses `path.resolve()` to prevent path traversal attacks. However, `path.resolve()` only normalizes path syntax - it does NOT resolve symbolic links.

If an attacker can create a symlink inside the public/ directory (requires filesystem write access), they can bypass the validation and read arbitrary files on the system:

```
symlink: /path/to/app/public/evil -> /etc
request: file:///path/to/app/public/evil/passwd
result: passes validation, reads /etc/passwd
```

## Solution

Replace `path.resolve()` with `fs.realpathSync()` in the file protocol handler. This resolves both path syntax (../) AND symbolic links to their actual filesystem location before performing the prefix validation.

Note: `realpathSync()` throws if the file doesn't exist, which provides better behavior (immediate 404) compared to attempting to read a non-existent file.

## Expected Outcome

- Symlinks inside public/ directory cannot be used to escape the allowed directory
- Path traversal protection remains intact
- Non-existent files return 404 immediately
- Valid files within public/ continue to work normally

## Considerations

- Error handling needed for the realpathSync call (catch and return 404)
- May want to add Windows case-sensitivity normalization in the same fix (related Issue 2 in the review)
