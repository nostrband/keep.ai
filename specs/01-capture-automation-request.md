## 1) Capture an automation request

### Goal

User can create a new automation from the main screen or via keyboard shortcut.

### UI

**Entry points:**
* Main screen input box (see spec 00)
* Keyboard shortcut: Cmd/Ctrl+N (focuses input or opens /new if not on main screen)
* Tray menu: "New automation..."

**Flow:**
1. User types request in input box
2. On submit: `api.createTask({ content })` creates workflow
3. Redirect to `/workflows/{id}` (workflow chat page)
4. Page shows "Workflow {id}" as title initially
5. Agent processes request and assigns a title
6. Title updates in UI with small edit button for manual override

**Input:**
* Placeholder: "What would you like me to help automate?"
* No separate title field - title is auto-generated by agent

### Server/data

**Already implemented in `api.createTask()`:**
* Creates `chat` row for user-facing conversation
* Creates `task` row with `type="planner"` and `chat_id` linking to chat
* Creates `workflow` row with `status=""` (Draft), linked via `task_id`
* Sends user message to task's `inbox`

**UI needs to:**
* Call `api.createTask({ content })`
* Redirect to `/workflows/{id}` for the workflow conversation
* Show error message if API call fails

### Worker behavior

**Already implemented:**
* `TaskScheduler` (runs every 10s) detects inbox items, triggers `TaskWorker`
* `TaskWorker` runs `ReplAgent` with tools: `eval`, `finish`, `ask`, `save`, `schedule`
* Agent produces responses as `chat_events` in the linked chat
* Agent either asks clarifying questions (spec 02) or proposes a plan (spec 03)

### Status mapping

| `workflow.status` | UI Label | Description |
|-------------------|----------|-------------|
| `""`              | Draft    | Not yet scheduled |
| `"active"`        | Running  | Has schedule, actively running |
| `"disabled"`      | Paused   | User or system disabled |

### Lovable detail

* Auto-title workflow from user text (agent updates `workflow.title`)
* Title edit button appears after agent assigns title
* Smooth transition from "Workflow {id}" to actual title
